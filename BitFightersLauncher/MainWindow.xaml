 <Window x:Class="BitFightersLauncher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=System.Runtime"
        Title="BitFighters Launcher" Height="700" Width="1200"
        WindowStyle="None" ResizeMode="NoResize" WindowState="Normal" AllowsTransparency="True" Background="Transparent"
        Icon="/Resources/Logo.png"
        x:Name="BitFightersWindow"
        WindowStartupLocation="CenterScreen"
        UseLayoutRounding="True" SnapsToDevicePixels="True"
        RenderOptions.BitmapScalingMode="HighQuality"
        TextOptions.TextRenderingMode="ClearType"
        CacheMode="BitmapCache">

    <Window.Resources>
        <CubicEase x:Key="EntranceEase" EasingMode="EaseOut"/>

        
        <FontFamily x:Key="CustomFont">pack://application:,,,/Fonts/Energize-Bold-Italic.otf#Energize</FontFamily>
        <FontFamily x:Key="CustomFont2">pack://application:,,,/Fonts/SourGummy_Expanded-Bold.ttf#Sour Gummy Expanded</FontFamily>
        <FontFamily x:Key="CustomFont3">pack://application:,,,/Fonts/RussoOne-Regular.ttf#Russo One</FontFamily>
        <FontFamily x:Key="Number">pack://application:,,,/Fonts/RussoOne-Regular.ttf#Russo One</FontFamily>
        
        <SolidColorBrush x:Key="PrimaryOrange" Color="#FFFFA726"/>
        <SolidColorBrush x:Key="SecondaryOrange" Color="#FFFF9800"/>
        <SolidColorBrush x:Key="LightOrange" Color="#FFFFAB40"/>
        <SolidColorBrush x:Key="DarkOrange" Color="#FFE65100"/>

        <!-- Még gyorsabb és egyszerűbb animációk -->
        <Storyboard x:Key="ContentEntranceAnimation">
            <DoubleAnimation Storyboard.TargetName="WindowControlsPanel" Storyboard.TargetProperty="Opacity"
                             To="1" Duration="0:0:0.2" BeginTime="0:0:0.05"
                             EasingFunction="{StaticResource EntranceEase}"/>
            <DoubleAnimation Storyboard.TargetName="NewsPanelBorder" Storyboard.TargetProperty="Opacity"
                             To="1" Duration="0:0:0.2" BeginTime="0:0:0.15"
                             EasingFunction="{StaticResource EntranceEase}"/>
            <DoubleAnimation Storyboard.TargetName="MainContentGrid" Storyboard.TargetProperty="Opacity"
                             To="1" Duration="0:0:0.2" BeginTime="0:0:0.2"
                             EasingFunction="{StaticResource EntranceEase}"/>
        </Storyboard>

        <!-- Minimál notification animációk -->
        <Storyboard x:Key="ShowNotification">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.15"/>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Duration="0">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="HideNotification">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.15"/>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" BeginTime="0:0:0.15" Duration="0">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>

        <!-- Minimál exit menu animáció -->
        <Storyboard x:Key="ExitMenuEntrance">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                             From="0" To="1" Duration="0:0:0.1"/>
        </Storyboard>


        <sys:Double x:Key="NewsItemHeight">90</sys:Double>
        <sys:Double x:Key="NewsBarHeight">56</sys:Double>

        <Style x:Key="ScrollThumbStyle" TargetType="{x:Type Thumb}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border CornerRadius="4" Background="{TemplateBinding Background}" BorderThickness="0"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernScrollBarStyle" TargetType="{x:Type ScrollBar}">
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="Foreground" Value="#66FFFFFF"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid x:Name="GridRoot" Background="{TemplateBinding Background}">
                            <Track x:Name="PART_Track" IsDirectionReversed="true" Focusable="false">
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Background="{TemplateBinding Foreground}" Style="{StaticResource ScrollThumbStyle}"/>
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton x:Name="PageInc" Command="ScrollBar.PageDownCommand" Opacity="0" Focusable="false"/>
                                </Track.IncreaseRepeatButton>
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton x:Name="PageDec" Command="ScrollBar.PageUpCommand" Opacity="0" Focusable="false"/>
                                </Track.DecreaseRepeatButton>
                            </Track>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Orientation" Value="Vertical">
                                <Setter Property="Width" Value="10"/>
                                <Setter TargetName="GridRoot" Property="Width" Value="8"/>
                                <Setter TargetName="Thumb" Property="Width" Value="6"/>
                                <Setter TargetName="Thumb" Property="Margin" Value="0,0,2,0"/>
                            </Trigger>
                            <Trigger Property="Orientation" Value="Horizontal">
                                <Setter Property="Height" Value="10"/>
                                <Setter TargetName="GridRoot" Property="Height" Value="8"/>
                                <Setter TargetName="Thumb" Property="Height" Value="6"/>
                                <Setter TargetName="Thumb" Property="Margin" Value="0,0,0,2"/>
                                <Setter TargetName="PageInc" Property="Command" Value="ScrollBar.PageRightCommand"/>
                                <Setter TargetName="PageDec" Property="Command" Value="ScrollBar.PageLeftCommand"/>
                                <Setter TargetName="PART_Track" Property="IsDirectionReversed" Value="false"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="true"/>
                                    <Condition Property="Orientation" Value="Vertical"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Thumb" Property="Background" Value="#AAFFFFFF"/>
                                <Setter TargetName="Thumb" Property="Width" Value="8"/>
                            </MultiTrigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="true"/>
                                    <Condition Property="Orientation" Value="Horizontal"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Thumb" Property="Background" Value="#AAFFFFFF"/>
                                <Setter TargetName="Thumb" Property="Height" Value="8"/>
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernScrollViewerStyle" TargetType="{x:Type ScrollViewer}">
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollViewer}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <ScrollContentPresenter Grid.Column="0"/>
                            <ScrollBar x:Name="PART_VerticalScrollBar" Grid.Column="1" Value="{TemplateBinding VerticalOffset}" Maximum="{TemplateBinding ScrollableHeight}" ViewportSize="{TemplateBinding ViewportHeight}" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Style="{StaticResource ModernScrollBarStyle}"/>
                            <ScrollBar x:Name="PART_HorizontalScrollBar" Orientation="Horizontal" Grid.Row="1" Grid.Column="0" Value="{TemplateBinding HorizontalOffset}" Maximum="{TemplateBinding ScrollableWidth}" ViewportSize="{TemplateBinding ViewportWidth}" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" Style="{StaticResource ModernScrollBarStyle}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="BaseMenuItemStyle" TargetType="MenuItem">
            <Setter Property="Padding" Value="16,14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border x:Name="bd" Background="#111A1C20" CornerRadius="8" Padding="16,14" Margin="8,4" MinWidth="260"
                                BorderBrush="Transparent" BorderThickness="2">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Name="iconText" Text="{TemplateBinding Tag}" FontFamily="Segoe MDL2 Assets" 
                                           Foreground="#FFFFA726" FontSize="18" VerticalAlignment="Center" Margin="0,0,16,0"/>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{TemplateBinding Header}" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=ToolTip}" 
                                               Foreground="#B3FFFFFF" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#22FFA726"/>
                                <Setter TargetName="bd" Property="BorderBrush" Value="#FFFFA726"/>
                                <Setter TargetName="iconText" Property="Foreground" Value="#FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DangerMenuItemStyle" BasedOn="{StaticResource BaseMenuItemStyle}" TargetType="MenuItem">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border x:Name="bd" Background="#19D32F2F" CornerRadius="8" Padding="16,14" Margin="8,4" MinWidth="260"
                                BorderBrush="Transparent" BorderThickness="2">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Name="iconText" Text="{TemplateBinding Tag}" FontFamily="Segoe MDL2 Assets" 
                                           Foreground="#FFD32F2F" FontSize="18" VerticalAlignment="Center" Margin="0,0,16,0"/>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{TemplateBinding Header}" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=ToolTip}" 
                                               Foreground="#E6FFFFFF" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#22D32F2F"/>
                                <Setter TargetName="bd" Property="BorderBrush" Value="#FFD32F2F"/>
                                <Setter TargetName="iconText" Property="Foreground" Value="#FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- Properly clipped border with correct background -->
    <Border x:Name="RootBorder" CornerRadius="25" 
            Background="#FF1A1C20" ClipToBounds="True" MouseLeftButtonDown="DragWindow" PreviewMouseWheel="RootBorder_PreviewMouseWheel">
        <Border.Triggers>
            <EventTrigger RoutedEvent="Loaded">
                <BeginStoryboard Storyboard="{StaticResource ContentEntranceAnimation}"/>
            </EventTrigger>
        </Border.Triggers>

        <Grid>
            <!-- Background image with proper clipping -->
            <Border CornerRadius="23" ClipToBounds="True">
                <Border.Background>
                    <ImageBrush ImageSource="/Resources/Background.png" Stretch="UniformToFill"/>
                </Border.Background>
            </Border>
            
            <!-- Egyszerű sötétítő réteg - Darker left side like Valorant -->
            <Border CornerRadius="23">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#F0000000" Offset="0"/>
                        <GradientStop Color="#E6000000" Offset="0.2"/>
                        <GradientStop Color="#D9000000" Offset="0.35"/>
                        <GradientStop Color="#99000000" Offset="0.5"/>
                        <GradientStop Color="#4D000000" Offset="0.65"/>
                        <GradientStop Color="#1A000000" Offset="0.8"/>
                        <GradientStop Color="#00000000" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
            </Border>

            <Grid x:Name="DimOverlay" Background="#80000000" Visibility="Collapsed" Panel.ZIndex="900"/>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>



                    <!-- Jobb oldali panel -->
                    <StackPanel x:Name="WindowControlsPanel" Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,6,10,0" Opacity="0" Panel.ZIndex="100">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Border x:Name="VersionDisplay" Background="#66000000" CornerRadius="15" Visibility="Hidden" 
                                    Padding="10,5" Margin="0,50,30,-53" Cursor="Hand" MouseLeftButtonDown="VersionDisplay_Click">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Name="VersionIcon" Text="&#xE7FC;" FontFamily="Segoe MDL2 Assets" 
                                             FontSize="16" Foreground="White" 
                                             VerticalAlignment="Center" Margin="0,0,6,0"/>
                                    <StackPanel>
                                        <TextBlock x:Name="VersionCurrentText" Text="v1.0.0" 
                                                 FontSize="13" FontWeight="Bold" 
                                                 Foreground="#FFFFA726" Margin="0,-2,0,0"/>
                                        <TextBlock x:Name="VersionStatusText" Text="Naprakész" 
                                                 FontSize="10" Foreground="#E0E0E0" FontWeight="SemiBold"
                                                 Margin="0,-3,0,0" TextTrimming="CharacterEllipsis"/>
                                    </StackPanel>
                                    <Border x:Name="UpdateIndicator" Width="8" Height="8" 
                                            Background="#FF4CAF50" CornerRadius="4" 
                                            Margin="6,0,0,0" VerticalAlignment="Center"
                                            Visibility="Collapsed"/>
                                </StackPanel>
                            </Border>

                            <!-- Minimize button -->
                            <Button x:Name="MinimizeBtn" Content="&#xE921;" FontFamily="Segoe MDL2 Assets" FontSize="12" 
                                    Click="MinimizeButton_Click" Height="30" Width="30" Margin="0,0,3,0">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Background" Value="#45d2cdcf"/>
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                        <Setter Property="Foreground" Value="#45d2cdcf"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" 
                                                            CornerRadius="15" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="2">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="6,9,6,0"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Foreground" Value="#FF1A1C20"/>
                                                            <Setter TargetName="ButtonBorder" Property="Background" Value="#80FFFFFF"/>
                                                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF1A1C20"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>

                            <!-- Exit button egyszerűsítve -->
                            <Button x:Name="ExitBtn" Content="&#xE711;" FontFamily="Segoe MDL2 Assets" FontSize="16"
                                    Click="ExitButton_Click" Height="30" Width="30">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Background" Value="#45d2cdcf"/>
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                        <Setter Property="Foreground" Value="#7b7a7f"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" 
                                                            CornerRadius="15" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="2">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Foreground" Value="#FF1A1C20"/>
                                                            <Setter TargetName="ButtonBorder" Property="Background" Value="#80FFFFFF"/>
                                                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF1A1C20"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                                <!-- Context menu egyszerűsítve -->
                                <Button.ContextMenu>
                                    <ContextMenu x:Name="ExitContextMenu" HasDropShadow="False" Width="320" Opened="ExitContextMenu_Opened" Closed="ExitContextMenu_Closed">
                                        <ContextMenu.Template>
                                            <ControlTemplate TargetType="ContextMenu">
                                                <Border Background="#FF1A1C20" CornerRadius="12" BorderBrush="#FFFFA726" BorderThickness="2" MinWidth="320" Panel.ZIndex="1000">
                                                    <Border.Triggers>
                                                        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                                            <BeginStoryboard Storyboard="{StaticResource ExitMenuEntrance}"/>
                                                        </EventTrigger>
                                                    </Border.Triggers>
                                                    <StackPanel>
                                                        <Border Background="#331A1C20" Padding="16,12" CornerRadius="12,12,0,0">
                                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                                <TextBlock Text="&#xE7E8;" FontFamily="Segoe MDL2 Assets" Foreground="#FFFFA726" FontSize="14" Margin="0,3,8,0"/>
                                                                <TextBlock Text="Kilépés" Foreground="#FFFFA726" FontWeight="Bold" FontSize="14"/>
                                                            </StackPanel>
                                                        </Border>
                                                        <ItemsPresenter Margin="8"/>
                                                    </StackPanel>
                                                </Border>
                                            </ControlTemplate>
                                        </ContextMenu.Template>

                                        <MenuItem Style="{StaticResource BaseMenuItemStyle}"
                                                  Header="Kilépés"
                                                  ToolTip="Program bezárása bejelentkezve maradással"
                                                  Tag="&#xE711;" Click="ExitOnlyMenuItem_Click"/>

                                        <MenuItem Style="{StaticResource DangerMenuItemStyle}"
                                                  Header="Kijelentkezés"
                                                  ToolTip="Adatok törlése és visszatérés a bejelentkezési képernyőhöz"
                                                  Tag="&#xE7E8;" Click="LogoutExitMenuItem_Click"/>
                                    </ContextMenu>
                                </Button.ContextMenu>
                            </Button>
                        </StackPanel>

                        <Button x:Name="ProfileMenuButton" Width="50" Height="50" Margin="0,10,0,0"
                                HorizontalAlignment="Right" VerticalAlignment="Top" Cursor="Hand"
                                Click="ProfileButton_Click">
                            <Button.ContextMenu>
                                <ContextMenu x:Name="ProfileContextMenu" HasDropShadow="False" Width="300" 
                                             Placement="Bottom" PlacementTarget="{Binding ElementName=ProfileMenuButton}"
                                             StaysOpen="False" 
                                             Opened="ProfileContextMenu_Opened" Closed="ProfileContextMenu_Closed">
                                    <ContextMenu.Template>
                                        <ControlTemplate TargetType="ContextMenu">
                                            <Border Background="#FF1A1C20" CornerRadius="12" BorderBrush="#FFFFA726" BorderThickness="2" MinWidth="300" Panel.ZIndex="1000">
                                                <Border.Triggers>
                                                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                                        <BeginStoryboard Storyboard="{StaticResource ExitMenuEntrance}"/>
                                                    </EventTrigger>
                                                </Border.Triggers>
                                                <StackPanel>
                                                    <Border Background="#331A1C20" Padding="16,12" CornerRadius="12,12,0,0">
                                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                            <Path Width="14" Height="14" Margin="0,2,8,0" Stretch="Uniform"
                                                                  Fill="#FFFFA726"
                                                                  Data="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"/>
                                                            <TextBlock Text="Navigáció" Foreground="#FFFFA726" FontWeight="Bold" FontSize="14"/>
                                                        </StackPanel>
                                                    </Border>
                                                    <ItemsPresenter Margin="8"/>
                                                </StackPanel>
                                            </Border>
                                        </ControlTemplate>
                                    </ContextMenu.Template>
                                    
                                    <MenuItem Style="{StaticResource BaseMenuItemStyle}"
                                              Header="Kezdőlap"
                                              ToolTip="Vissza a főoldalra"
                                              Tag="&#xE80F;" Click="ProfileHomeMenuItem_Click"/>
                                    
                                    <MenuItem Style="{StaticResource BaseMenuItemStyle}"
                                              Header="Profil"
                                              ToolTip="Profilom és statisztikáim megtekintése"
                                              Tag="&#xE77B;" Click="ProfileViewMenuItem_Click"/>
                                    
                                    <MenuItem Style="{StaticResource BaseMenuItemStyle}"
                                              Header="Rangsor"
                                              ToolTip="TOP 15 játékos rangsor megtekintése"
                                              Tag="&#xE8D4;" Click="ProfileLeaderboardMenuItem_Click"/>
                                </ContextMenu>
                            </Button.ContextMenu>
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="#45d2cdcf"/>
                                    <Setter Property="BorderBrush" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="#7b7a7f"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="ProfileBorder" Background="{TemplateBinding Background}" CornerRadius="16">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="ProfileBorder" Property="Background" Value="#80FFFFFF"/>
                                                        <Setter Property="Foreground" Value="#FF1A1C20"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <Grid>
                                <Path Width="26" Height="26" Stretch="Uniform"
                                      HorizontalAlignment="Center" VerticalAlignment="Center"
                                      Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                      Data="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"/>
                                <StackPanel Visibility="Collapsed">
                                    <TextBlock x:Name="UsernameText" Text="Felhasználó"/>
                                    <TextBlock Text="Bejelentkezve"/>
                                </StackPanel>
                            </Grid>
                        </Button>
                    </StackPanel>

                <Border x:Name="CompactHeaderBar" Grid.Row="0" Height="120" Margin="0,0,0,0" CornerRadius="24,24,0,0"
                        Background="#090909"
                        Opacity="0" Visibility="Visible" VerticalAlignment="Top" Panel.ZIndex="50" UseLayoutRounding="True"
                        MouseLeftButtonDown="DragWindow" PreviewMouseWheel="CompactHeaderBar_PreviewMouseWheel">
                    <Border.RenderTransform>
                        <TranslateTransform Y="-120"/>
                    </Border.RenderTransform>
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="20" ShadowDepth="4" Opacity="0.4" Direction="270"/>
                    </Border.Effect>
                    <Grid Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Left: Menu + Play -->
                        <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">

                            <!-- Play Button -->
                            <Button x:Name="CompactActionButton" Content="JÁTÉK" Width="180" Height="60" Cursor="Hand" Click="HandleActionButton_Click" Margin="60,0,-240,0">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border x:Name="PlayBorder" CornerRadius="23">
                                                        <Border.Background>
                                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                <GradientStop Color="#FFE65100" Offset="0"/>
                                                                <GradientStop Color="#FFFF9800" Offset="0.5"/>
                                                                <GradientStop Color="#FFFFA726" Offset="1"/>
                                                            </LinearGradientBrush>
                                                        </Border.Background>
                                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                            <Viewbox Width="70" Height="70" Margin="-23,-5,0,0">
                                                                <Grid Width="24" Height="24">
                                                                    <Grid x:Name="CompactPlayIcon" Visibility="Visible">
                                                                        <Ellipse Width="14" Height="14" Fill="#000000" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        <Path Fill="#FFFFFF" Data="M14.75,12.83,11.55,15A1,1,0,0,1,10,14.13V9.87A1,1,0,0,1,11.55,9l3.2,2.13A1,1,0,0,1,14.75,12.83Z"/>
                                                                    </Grid>
                                                                    <Grid x:Name="CompactDownloadIcon" Visibility="Collapsed">
                                                                        <Ellipse Width="18" Height="18" Fill="#000000" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        <Rectangle Width="4" Height="1" Fill="#FFFFFF" RadiusX="0.5" RadiusY="0.5" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,9,0,0"/>
                                                                        <Path Fill="#FFFFFF" Data="M8.71,13.71,11.29,16.3a1,1,0,0,0,1.42,0l2.58-2.58a1,1,0,0,0-.7-1.72H9.41A1,1,0,0,0,8.71,13.71Z" Margin="0,-1,0,0"/>
                                                                    </Grid>
                                                                </Grid>
                                                            </Viewbox>
                                                            <TextBlock Text="{TemplateBinding Content}" FontFamily="{StaticResource CustomFont2}" FontSize="15" FontWeight="Bold" Foreground="White" VerticalAlignment="Center" Width="100" TextAlignment="Center" TextTrimming="CharacterEllipsis"/>
                                                        </StackPanel>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="PlayBorder" Property="Opacity" Value="0.9"/>
                                                        </Trigger>
                                                        <Trigger Property="IsPressed" Value="True">
                                                            <Setter TargetName="PlayBorder" Property="Opacity" Value="0.8"/>
                                                        </Trigger>
                                                        <Trigger Property="Content" Value="LETÖLTÉS">
                                                            <Setter TargetName="CompactPlayIcon" Property="Visibility" Value="Collapsed"/>
                                                            <Setter TargetName="CompactDownloadIcon" Property="Visibility" Value="Visible"/>
                                                        </Trigger>
                                                        <Trigger Property="Content" Value="FRISSÍTÉS">
                                                            <Setter TargetName="CompactPlayIcon" Property="Visibility" Value="Collapsed"/>
                                                            <Setter TargetName="CompactDownloadIcon" Property="Visibility" Value="Visible"/>
                                                        </Trigger>
                                                        <Trigger Property="Content" Value="TELEPÍTÉS...">
                                                            <Setter TargetName="CompactPlayIcon" Property="Visibility" Value="Collapsed"/>
                                                            <Setter TargetName="CompactDownloadIcon" Property="Visibility" Value="Visible"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>

                            <!-- Compact Progress Indicator -->
                            <Border x:Name="CompactProgressIndicator" Visibility="Collapsed" Height="50" Width="200"
                                    Margin="60,0,-200,0" CornerRadius="23">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                        <GradientStop Color="#634d1a" Offset="0"/>
                                        <GradientStop Color="#55441d" Offset="0.5"/>
                                        <GradientStop Color="#46391c" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Grid Margin="5,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Percentage -->
                                    <Grid Grid.Column="0" Width="36" Height="36" Margin="0,0,5,0">
                                        <Ellipse Fill="Black"/>
                                        <Ellipse Stroke="#634d1a" StrokeThickness="5"/>
                                        <Ellipse Stroke="Black" StrokeThickness="3"/>
                                        <Path x:Name="CompactProgressRingPath"
                                              Stroke="#f1b324"
                                              StrokeThickness="3"
                                              StrokeStartLineCap="Round"
                                              StrokeEndLineCap="Round"
                                              StrokeDashArray="0 100"
                                              RenderTransformOrigin="0.5,0.5">
                                            <Path.RenderTransform>
                                                <RotateTransform Angle="-90"/>
                                            </Path.RenderTransform>
                                            <Path.Data>
                                                <EllipseGeometry Center="18,18" RadiusX="14" RadiusY="14"/>
                                            </Path.Data>
                                        </Path>
                                        <TextBlock x:Name="CompactProgressPercentage" Text="0" Foreground="#f1b324" FontSize="10" FontFamily="{StaticResource Number}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Grid>

                                    <!-- Text Info -->
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock x:Name="CompactProgressStatus" Text="Frissítés..." FontFamily="{StaticResource CustomFont2}" Foreground="White" FontSize="10" FontWeight="Bold"/>
                                        <TextBlock x:Name="CompactProgressSpeed" Text="0.0 MB/s" FontFamily="{StaticResource CustomFont2}" Foreground="#DDFFFFFF" FontSize="9"/>
                                    </StackPanel>

                                    <!-- Right: Pause/Resume button -->
                                    <Button Grid.Column="2" x:Name="CompactPauseResumeButton" 
                                            Width="32" Height="32" 
                                            Cursor="Hand"
                                            Click="PauseResumeButton_Click"
                                            VerticalAlignment="Center">
                                        <Button.Style>
                                            <Style TargetType="Button">
                                                <Setter Property="Background" Value="#33000000"/>
                                                <Setter Property="BorderBrush" Value="Transparent"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    CornerRadius="16" 
                                                                    BorderThickness="0">
                                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#55000000"/>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter Property="Background" Value="#22000000"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Button.Style>
                                        <Grid>
                                            <!-- Pause icon (two vertical bars) -->
                                            <Canvas x:Name="CompactPauseIcon" Width="12" Height="14" Visibility="Visible">
                                                <Rectangle Width="4" Height="14" Fill="White" Canvas.Left="0"/>
                                                <Rectangle Width="4" Height="14" Fill="White" Canvas.Left="8"/>
                                            </Canvas>
                                            <!-- Resume icon (play triangle) -->
                                            <Path x:Name="CompactResumeIcon" 
                                                  Fill="White" 
                                                  Data="M0,0 L0,14 L12,7 Z" 
                                                  Width="12" Height="14"
                                                  Stretch="Fill"
                                                  Visibility="Collapsed"/>
                                        </Grid>
                                    </Button>
                                </Grid>
                            </Border>
                        </StackPanel>

                        <!-- Center: Logo -->
                        <StackPanel Grid.Column="2" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock Text="BITFIGHTERS" Foreground="#FFFFA726" FontFamily="{StaticResource CustomFont}"
                                       FontSize="50" FontWeight="Bold" VerticalAlignment="Center">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="15" Color="#FFFFA726" Opacity="0.3"/>
                                </TextBlock.Effect>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </Border>


                <!-- Scrollable Content -->
                <ScrollViewer x:Name="MainScrollViewer" Grid.Row="1" Style="{StaticResource ModernScrollViewerStyle}" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" PanningMode="VerticalOnly">
                    <Grid Width="1196">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/> <!-- Main Content (Hero + News) -->
                            <RowDefinition Height="Auto"/> <!-- Other views -->
                            <RowDefinition Height="200"/> <!-- Extra scroll space -->
                        </Grid.RowDefinitions>

                        <!-- Fő tartalom grid -->
                        <Grid x:Name="MainContentGrid" Grid.Row="0" Opacity="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="580"/> <!-- Hero Section Height (Window Height 700 - TopBar 120) -->
                                <RowDefinition Height="Auto"/> <!-- News/Patch Notes Section -->
                            </Grid.RowDefinitions>

                            <!-- Hero Section (Play Button, Title) -->
                            <Grid Grid.Row="0">
                                <!-- Text above play button -->
                                <TextBlock Text="BITFIGHTERS" 
                                           FontSize="70" 
                                           FontFamily="{StaticResource CustomFont}"
                                           Foreground="#FFFFA726"
                                           HorizontalAlignment="Left" 
                                           VerticalAlignment="Center"
                                           Margin="65,-460,0,0">
                                    <TextBlock.Effect>
                                        <DropShadowEffect ShadowDepth="0" BlurRadius="15" Color="#FFFFA726" Opacity="0.3"/>
                                    </TextBlock.Effect>
                                </TextBlock>


                                <!-- Download status bar under title -->
                                <Border x:Name="ProgressIndicatorBorder" Visibility="Collapsed" 
                                        CornerRadius="25" 
                                        Width="240" Height="55" 
                                        HorizontalAlignment="Left" VerticalAlignment="Center"
                                        BorderThickness="0"
                                        Margin="70,-280,0,0">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                            <GradientStop Color="#634d1a" Offset="0"/>
                                            <GradientStop Color="#55441d" Offset="0.5"/>
                                            <GradientStop Color="#46391c" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Grid Margin="10,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Left: Percentage circle -->
                                        <Grid Grid.Column="0" Width="38" Height="38" VerticalAlignment="Center" Margin="0,0,14,0">
                                            <Ellipse Fill="Black"/>
                                            <Ellipse Stroke="#634d1a" StrokeThickness="5.3"/>
                                            <Ellipse Stroke="Black" StrokeThickness="3"/>
                                            <Path x:Name="ProgressRingPath"
                                                  Stroke="#f1b324"
                                                  StrokeThickness="3"
                                                  StrokeStartLineCap="Round"
                                                  StrokeEndLineCap="Round"
                                                  StrokeDashArray="0 31.416"
                                                  RenderTransformOrigin="0.5,0.5">
                                                <Path.RenderTransform>
                                                    <RotateTransform Angle="-90"/>
                                                </Path.RenderTransform>
                                                <Path.Data>
                                                    <EllipseGeometry Center="19,19" RadiusX="15" RadiusY="15"/>
                                                </Path.Data>
                                            </Path>
                                            <TextBlock x:Name="ProgressPercentageCircle"
                                                       Text="0" 
                                                       Foreground="#f1b324" 
                                                       FontSize="10"
                                                       Margin="0,1,0,0"
                                                       FontFamily="{StaticResource Number }"
                                                       HorizontalAlignment="Center" 
                                                       VerticalAlignment="Center"/>
                                        </Grid>
                                        
                                        <!-- Center: Status text and speed -->
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,10,0">
                                            <TextBlock x:Name="ProgressStatusText"
                                                       Text="Frissítés..." 
                                                       FontFamily="{StaticResource CustomFont2}"
                                                       Foreground="White" FontSize="12" FontWeight="Bold"
                                                       Margin="0,0,0,2"/>
                                            <TextBlock x:Name="ProgressSpeedText" 
                                                       Text="0.7 MB/s" 
                                                       FontFamily="{StaticResource CustomFont2}"
                                                       Foreground="#DDFFFFFF" FontSize="10" FontWeight="SemiBold"/>
                                        </StackPanel>
                                        
                                        <!-- Right: Pause/Resume button -->
                                        <Button Grid.Column="2" x:Name="PauseResumeButton" 
                                                Width="32" Height="32" 
                                                Cursor="Hand"
                                                Click="PauseResumeButton_Click"
                                                VerticalAlignment="Center">
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Background" Value="#33000000"/>
                                                    <Setter Property="BorderBrush" Value="Transparent"/>
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Button">
                                                                <Border Background="{TemplateBinding Background}" 
                                                                        CornerRadius="16" 
                                                                        BorderThickness="0">
                                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Background" Value="#55000000"/>
                                                                    </Trigger>
                                                                    <Trigger Property="IsPressed" Value="True">
                                                                        <Setter Property="Background" Value="#22000000"/>
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Button.Style>
                                            <Grid>
                                                <!-- Pause icon (two vertical bars) -->
                                                <Canvas x:Name="PauseIcon" Width="12" Height="14" Visibility="Visible">
                                                    <Rectangle Width="4" Height="14" Fill="White" Canvas.Left="0"/>
                                                    <Rectangle Width="4" Height="14" Fill="White" Canvas.Left="8"/>
                                                </Canvas>
                                                <!-- Resume icon (play triangle) -->
                                                <Path x:Name="ResumeIcon" 
                                                      Fill="White" 
                                                      Data="M0,0 L0,14 L12,7 Z" 
                                                      Width="12" Height="14"
                                                      Stretch="Fill"
                                                      Visibility="Collapsed"/>
                                            </Grid>
                                        </Button>
                                    </Grid>
                                </Border>

                                <!-- Action button -->
                                <Grid Width="310" Height="310" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="324,0,0,0">
                                    <Button x:Name="ActionButton" Cursor="Hand" Click="HandleActionButton_Click" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" RenderTransformOrigin="0.5,0.5">
                                        <Button.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform/>
                                                <SkewTransform AngleX="0.095"/>
                                                <RotateTransform/>
                                                <TranslateTransform X="0.248"/>
                                            </TransformGroup>
                                        </Button.RenderTransform>
                                        <Button.Style>
                                            <Style TargetType="{x:Type Button}">
                                                <Setter Property="Background" Value="Transparent" />
                                                <Setter Property="BorderBrush" Value="Transparent" />
                                                <Setter Property="Foreground" Value="White" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type Button}">
                                                            <Grid>
                                                                <Border x:Name="InnerBorder" Width="190" Height="60" CornerRadius="24" BorderThickness="0" BorderBrush="Transparent" Padding="0" Margin="-620,-280,0,0">
                                                                    <Border.Background>
                                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,2">
                                                                            <LinearGradientBrush.RelativeTransform>
                                                                                <RotateTransform Angle="30" CenterX="0.5" CenterY="0.5"/>
                                                                            </LinearGradientBrush.RelativeTransform>
                                                                            <GradientStop Color="#FFE65100" Offset="0"/>
                                                                            <GradientStop Color="#FFFF9800" Offset="0.5"/>
                                                                            <GradientStop Color="#FFFFA726" Offset="1"/>
                                                                        </LinearGradientBrush>
                                                                    </Border.Background>
                                                                    <ContentPresenter HorizontalAlignment="Right" VerticalAlignment="Center" />
                                                                </Border>
                                                            </Grid>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="InnerBorder" Property="Opacity" Value="0.9"/>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="InnerBorder" Property="Opacity" Value="0.8"/>
                                                                </Trigger>
                                                                <Trigger Property="IsEnabled" Value="False">
                                                                    <Setter TargetName="InnerBorder" Property="Opacity" Value="0.5"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Button.Style>
                                        <Grid>
                                            <!-- Normal button content -->
                                            <StackPanel x:Name="ButtonContentPanel" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,2.5,0,0">
                                                <Viewbox Width="70" Height="70" Margin="0,-7,0,0">
                                                    <Grid Width="24" Height="24">
                                                        <!-- Play Icon -->
                                                        <Grid x:Name="PlayIconGrid" Visibility="Visible">
                                                            <Ellipse Width="14" Height="14" Fill="#000000" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                            <Path Fill="#FFFFFF"
                                                                  Data="M14.75,12.83,11.55,15A1,1,0,0,1,10,14.13V9.87A1,1,0,0,1,11.55,9l3.2,2.13A1,1,0,0,1,14.75,12.83Z"/>
                                                        </Grid>
                                                        <!-- Download Icon -->
                                                        <Grid x:Name="DownloadIconGrid" Visibility="Collapsed">
                                                            <Ellipse Width="14" Height="14" Fill="#000000" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0"/>
                                                            <Rectangle Width="4" Height="1" Fill="#FFFFFF" RadiusX="0.5" RadiusY="0.5" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,9,0,0"/>
                                                            <Path Fill="#FFFFFF" Data="M8.71,13.71,11.29,16.3a1,1,0,0,0,1.42,0l2.58-2.58a1,1,0,0,0-.7-1.72H9.41A1,1,0,0,0,8.71,13.71Z" Margin="0,-1,0,0"/>
                                                        </Grid>
                                                    </Grid>
                                                </Viewbox>
                                                <TextBlock x:Name="ButtonText" FontFamily="{StaticResource CustomFont2}" Text="JÁTÉK"  FontSize="18" Width="128" Height="24" TextAlignment="Center" Foreground="White" Margin="-10,0,17,0"/>
                                            </StackPanel>
                                        </Grid>
                                    </Button>

                                    <!-- Compact Progress Indicator moved under the title -->
                                </Grid>

                            <!-- Hero Section End -->
                            </Grid>

                            <!-- Patch notes in second row -->
                            <Border x:Name="NewsPanelBorder" Grid.Row="1" CornerRadius="6" Margin="65,-150,65,30" Opacity="0" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                            <StackPanel HorizontalAlignment="Stretch">
                                <Button x:Name="LearnMoreButton" HorizontalAlignment="Left" Margin="12,0,0,40" Cursor="Hand" Width="180" Height="40" >
                                    <Button.Style>
                                        <Style TargetType="Button">
                                            <Setter Property="Background" Value="#FF2A2A2A"/>
                                            <Setter Property="BorderBrush" Value="#FF3A3A3A"/>
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" 
                                                                CornerRadius="6" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="ButtonBorder" Property="Background" Value="#FF3A3A3A"/>
                                                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF5A5A5A"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="ButtonBorder" Property="Background" Value="#FF1A1A1A"/>
                                                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF2A2A2A"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                    <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="TUDJ MEG TÖBBET" FontSize="12" FontFamily="{StaticResource CustomFont2}" Foreground="White" VerticalAlignment="Center"/>
                                        </StackPanel>
                                </Button>
                                <ScrollViewer x:Name="NewsScrollViewer" Style="{StaticResource ModernScrollViewerStyle}" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Disabled" PanningMode="HorizontalOnly" PreviewMouseWheel="NewsScrollViewer_PreviewMouseWheel" ScrollChanged="NewsScrollViewer_ScrollChanged">
                                    <ItemsControl x:Name="NewsItemsControl" HorizontalAlignment="Stretch">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Rows="1"/>
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                    <Border Background="#DD000000" CornerRadius="10" Margin="10,0,10,5" Height="210" BorderBrush="#44FFFFFF" BorderThickness="0" Cursor="Hand">
                                                        <Border.Style>
                                                        <Style TargetType="Border">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#88FFFFFF"/>
                                                                    <Setter Property="BorderThickness" Value="2"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Border.Style>
                                                    <Grid ClipToBounds="True">
                                                        <!-- Background image placeholder with gradient -->
                                                        <Border CornerRadius="10" ClipToBounds="True">
                                                            <Border.Background>
                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                    <GradientStop Color="#FF1A1C20" Offset="0"/>
                                                                    <GradientStop Color="#FF2D2F35" Offset="0.5"/>
                                                                    <GradientStop Color="#FF000000" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </Border.Background>
                                                        </Border>
                                                        
                                                        <!-- Top label (GAME UPDATE) -->
                                                        <Border HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,12,10,0" 
                                                                Background="#66d2cdcf" CornerRadius="12" Padding="5,2" 
                                                                BorderThickness="1">
                                                                <TextBlock Text="GAME UPDATE" Foreground="Black" FontSize="12" 
                                                                           FontFamily="{StaticResource CustomFont2}" />
                                                        </Border>
                                                        
                                                        <!-- Bottom gradient overlay for text -->
                                                        <Border CornerRadius="0,0,12,12" VerticalAlignment="Bottom" Height="100">
                                                            <Border.Background>
                                                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                    <GradientStop Color="#00000000" Offset="0"/>
                                                                    <GradientStop Color="#CC000000" Offset="0.5"/>
                                                                    <GradientStop Color="#EE000000" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </Border.Background>
                                                        </Border>
                                                        
                                                        <!-- Title and date at bottom -->
                                                        <StackPanel VerticalAlignment="Bottom" Margin="16,0,16,16">
                                                            <TextBlock Text="{Binding Title}" Foreground="White"  
                                                                       FontSize="17" TextWrapping="Wrap" TextTrimming="CharacterEllipsis" 
                                                                       MaxHeight="60" Margin="0,0,0,8" FontFamily="{StaticResource CustomFont2}"/>
                                                            <Border Background="#33FFFFFF" Height="1" Margin="0,0,0,8"/>
                                                            <TextBlock Text="{Binding FormattedDate}" Foreground="#CCFFA726" 
                                                                       FontSize="10" FontFamily="{StaticResource CustomFont2}"  />
                                                        </StackPanel>
                                                    </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </StackPanel>
                        </Border>
                        </Grid> <!-- Closing MainContentGrid -->

                        <!-- Profil nézet -->
                        <Grid x:Name="ProfileViewGrid" Visibility="Collapsed" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <StackPanel Width="600" HorizontalAlignment="Center">
                            <Border Background="#77000000" CornerRadius="20" Padding="30" Margin="0,0,0,30">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0" Width="120" Height="120" CornerRadius="60" 
                                            Background="#FFFFA726" Margin="0,0,30,0">
                                        <TextBlock Text="👤" FontSize="60" HorizontalAlignment="Center" 
                                                   VerticalAlignment="Center" Foreground="#FF1A1C20"/>
                                    </Border>

                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock x:Name="ProfileUsernameText" Text="Felhasználó" 
                                                   FontSize="32" FontWeight="Bold" Foreground="#FFFFA726" 
                                                   Margin="0,0,0,15"/>
                                        <TextBlock x:Name="ProfileRankText" Text="🔰 Kezdő" 
                                                   FontSize="18" FontWeight="SemiBold" Foreground="White"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Border Grid.Column="0" Background="#77000000" CornerRadius="15" Padding="25">
                                    <StackPanel HorizontalAlignment="Center">
                                        <TextBlock Text="🏆" FontSize="40" HorizontalAlignment="Center" Margin="0,0,0,10" Foreground="#FFFFA726"/>
                                        <TextBlock Text="Legmagasabb pontszám" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="#FFFFA726" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock x:Name="ProfileHighestScoreText" Text="0" FontSize="28" FontWeight="Bold" 
                                                   Foreground="White" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <Border Grid.Column="2" Background="#77000000" CornerRadius="15" Padding="25">
                                    <StackPanel HorizontalAlignment="Center">
                                        <TextBlock Text="🏅" FontSize="40" HorizontalAlignment="Center" Margin="0,0,0,10" Foreground="#FFFFA726"/>
                                        <TextBlock Text="Rangsor helyezés" FontSize="16" FontWeight="SemiBold" 
                                                   Foreground="#FFFFA726" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                        <TextBlock x:Name="ProfileUserRankText" Text="N/A" FontSize="28" FontWeight="Bold" 
                                                   Foreground="White" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </StackPanel>
                        <Border Grid.Row="2" Background="Transparent"/>
                    </Grid>

                    <!-- Leaderboard view -->
                    <Grid x:Name="LeaderboardViewGrid" Visibility="Collapsed" Margin="40,25,20,0">
                        <StackPanel>
                            <TextBlock Text="TOP 15 JÁTÉKOS" Foreground="White" FontSize="22" FontWeight="Bold" HorizontalAlignment="Center"/>
                            <Rectangle Height="1" Fill="#A7FFA726" Margin="0,10,0,20" HorizontalAlignment="Center" Width="350"/>

                            <Border Background="#66000000" CornerRadius="8" BorderBrush="#33CCCCCC" BorderThickness="0,0,0,1" Margin="0,0,40,10" Padding="12,0,12,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="150"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Helyezés" Foreground="#FFFFA726" FontWeight="Bold" FontSize="16" HorizontalAlignment="Center"/>
                                    <TextBlock Grid.Column="1" Text="Felhasználónév" Foreground="#FFFFA726" FontWeight="Bold" FontSize="16"/>
                                    <TextBlock Grid.Column="2" Text="Pontszám" Foreground="#FFFFA726" FontWeight="Bold" FontSize="16" HorizontalAlignment="Right"/>
                                </Grid>
                            </Border>

                            <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="500">
                                <ItemsControl x:Name="LeaderboardItemsControl">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#55000000" CornerRadius="8" Margin="0,0,40,8" Padding="12">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="80"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="150"/>
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0" Text="{Binding rank, StringFormat='#{0}'}" Foreground="White" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    <TextBlock Grid.Column="1" Text="{Binding username}" Foreground="White" FontSize="16" VerticalAlignment="Center"/>
                                                    <TextBlock Grid.Column="2" Text="{Binding highest_score}" Foreground="#FFFFA726" FontSize="18" FontWeight="SemiBold" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                        </StackPanel>
                    </Grid>
                </Grid>
                </ScrollViewer>

                <!-- Notification border -->
                <Border x:Name="NotificationBorder" Grid.Row="0" Grid.RowSpan="2" Height="50" Opacity="0" Background="#55000000" BorderBrush="#FFFFA726" BorderThickness="1.5" CornerRadius="10" Margin="25,90,20,0" HorizontalAlignment="Center" VerticalAlignment="Top" Visibility="Collapsed">
                    <TextBlock x:Name="NotificationText" Foreground="White" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,0"/>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>